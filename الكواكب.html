<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
      background: linear-gradient(135deg, #000428 0%, #004e92 50%, #000428 100%);
      background-attachment: fixed;
    }
    
    .app-container {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: auto;
    }
    
    #canvas-container {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
    }
    
    .ui-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
    }
    
    .header {
      padding: 2rem;
      text-align: center;
      pointer-events: auto;
    }
    
    .title {
      font-size: 2.5rem;
      font-weight: bold;
      color: #ffffff;
      text-shadow: 0 0 30px rgba(100, 200, 255, 1), 0 0 60px rgba(100, 200, 255, 0.5);
      margin-bottom: 0.5rem;
      animation: titleGlow 3s ease-in-out infinite alternate;
    }
    
    @keyframes titleGlow {
      from {
        text-shadow: 0 0 30px rgba(100, 200, 255, 1), 0 0 60px rgba(100, 200, 255, 0.5);
      }
      to {
        text-shadow: 0 0 40px rgba(150, 220, 255, 1), 0 0 80px rgba(150, 220, 255, 0.7);
      }
    }
    
    .subtitle {
      font-size: 1.2rem;
      color: #a0d8ff;
      text-shadow: 0 0 15px rgba(160, 216, 255, 0.8);
    }
    
    .controls-panel {
      position: absolute;
      top: 50%;
      right: 2rem;
      transform: translateY(-50%);
      background: rgba(20, 30, 60, 0.9);
      border: 2px solid rgba(100, 200, 255, 0.3);
      border-radius: 15px;
      padding: 1.5rem;
      pointer-events: auto;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
    }
    
    .control-group {
      margin-bottom: 1.5rem;
    }
    
    .control-group:last-child {
      margin-bottom: 0;
    }
    
    .control-label {
      color: #ffffff;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
      display: block;
      font-weight: 600;
    }
    
    .control-buttons {
      display: flex;
      gap: 0.5rem;
    }
    
    .control-btn {
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      border: none;
      color: white;
      padding: 0.7rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.2rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
    }
    
    .control-btn:hover {
      background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(37, 99, 235, 0.5);
    }
    
    .control-btn:active {
      transform: translateY(0);
    }
    
    .planet-info {
      position: absolute;
      bottom: 2rem;
      left: 2rem;
      background: rgba(20, 30, 60, 0.95);
      border: 2px solid rgba(100, 200, 255, 0.3);
      border-radius: 15px;
      padding: 1.2rem;
      pointer-events: auto;
      max-width: 450px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    
    .planet-info.hidden {
      transform: translateY(120%);
      opacity: 0;
      pointer-events: none;
    }
    
    .info-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.8rem;
    }
    
    .close-btn {
      background: rgba(255, 100, 100, 0.2);
      border: 2px solid rgba(255, 100, 100, 0.4);
      color: #ff6b6b;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      padding: 0;
      line-height: 1;
    }
    
    .close-btn:hover {
      background: rgba(255, 100, 100, 0.4);
      border-color: rgba(255, 100, 100, 0.6);
      transform: rotate(90deg);
    }
    
    .toggle-info-btn {
      position: absolute;
      bottom: 2rem;
      left: 2rem;
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      border: 2px solid rgba(100, 200, 255, 0.3);
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 10px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      pointer-events: auto;
      box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
      transition: all 0.3s ease;
      display: none;
    }
    
    .toggle-info-btn.show {
      display: block;
    }
    
    .toggle-info-btn:hover {
      background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(37, 99, 235, 0.5);
    }
    
    .planet-name {
      font-size: 1.3rem;
      font-weight: bold;
      color: #64b5f6;
      margin-bottom: 0;
    }
    
    .planet-details {
      color: #e0e0e0;
      font-size: 0.85rem;
      line-height: 1.5;
    }
    
    .detail-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.2rem;
      padding: 0.2rem 0;
      border-bottom: 1px solid rgba(100, 200, 255, 0.1);
    }
    
    .detail-label {
      color: #90caf9;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .detail-value {
      color: #ffffff;
      font-size: 0.8rem;
    }
    
    .planet-selector {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.4rem;
      margin-top: 0.8rem;
    }
    
    .planet-btn {
      background: linear-gradient(135deg, #1e3a5f 0%, #2c5282 100%);
      border: 2px solid rgba(100, 200, 255, 0.3);
      color: white;
      padding: 0.5rem 0.6rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.75rem;
      transition: all 0.3s ease;
    }
    
    .planet-btn:hover {
      background: linear-gradient(135deg, #2c5282 0%, #3b6ba5 100%);
      border-color: rgba(100, 200, 255, 0.6);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(100, 200, 255, 0.3);
    }
    
    .planet-btn.active {
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      border-color: #64b5f6;
      box-shadow: 0 0 20px rgba(100, 200, 255, 0.5);
    }
    
    .speed-control {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      margin-top: 1rem;
    }
    
    .speed-slider {
      flex: 1;
      height: 6px;
      border-radius: 3px;
      background: rgba(100, 200, 255, 0.2);
      outline: none;
      -webkit-appearance: none;
    }
    
    .speed-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(37, 99, 235, 0.5);
    }
    
    .speed-slider::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 10px rgba(37, 99, 235, 0.5);
    }
    
    .speed-label {
      color: #90caf9;
      font-size: 0.85rem;
      min-width: 80px;
      font-weight: 600;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div class="app-container">
   <div id="canvas-container"></div>
   <div class="ui-overlay">
    <div class="header">
     <h1 class="title" id="main-title">Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ</h1>
     <p class="subtitle" id="subtitle">Ø§Ø³ØªÙƒØ´Ù Ø¹Ø¬Ø§Ø¦Ø¨ Ø§Ù„ÙØ¶Ø§Ø¡</p>
    </div>
    <div class="controls-panel">
     <div class="control-group"><label class="control-label" id="rotate-label">Ø¯ÙˆØ±Ø§Ù†</label>
      <div class="control-buttons"><button class="control-btn" id="rotate-left">â†</button> <button class="control-btn" id="rotate-right">â†’</button>
      </div>
     </div>
     <div class="control-group"><label class="control-label" id="zoom-label">ØªÙƒØ¨ÙŠØ±</label>
      <div class="control-buttons"><button class="control-btn" id="zoom-in">+</button> <button class="control-btn" id="zoom-out">âˆ’</button>
      </div>
     </div>
     <div class="control-group"><label class="control-label">ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø±Ø¶</label>
      <div class="control-buttons"><button class="control-btn" id="auto-rotate" title="Ø¯ÙˆØ±Ø§Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠ">ğŸ”„</button> <button class="control-btn" id="follow-mode" title="ØªØªØ¨Ø¹ Ø§Ù„ÙƒÙˆÙƒØ¨">ğŸ‘ï¸</button>
      </div>
     </div>
    </div><button class="toggle-info-btn" id="toggle-info-btn">ğŸ“Š Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</button>
    <div class="planet-info" id="planet-info">
     <div class="info-header">
      <h2 class="planet-name" id="planet-name">Ø§Ù„Ø£Ø±Ø¶</h2><button class="close-btn" id="close-info-btn">Ã—</button>
     </div>
     <div class="planet-details" id="planet-details"></div>
     <div class="planet-selector"><button class="planet-btn" data-planet="mercury" id="mercury-btn">Ø¹Ø·Ø§Ø±Ø¯</button> <button class="planet-btn" data-planet="venus" id="venus-btn">Ø§Ù„Ø²Ù‡Ø±Ø©</button> <button class="planet-btn active" data-planet="earth" id="earth-btn">Ø§Ù„Ø£Ø±Ø¶</button> <button class="planet-btn" data-planet="mars" id="mars-btn">Ø§Ù„Ù…Ø±ÙŠØ®</button> <button class="planet-btn" data-planet="jupiter" id="jupiter-btn">Ø§Ù„Ù…Ø´ØªØ±ÙŠ</button> <button class="planet-btn" data-planet="saturn" id="saturn-btn">Ø²Ø­Ù„</button> <button class="planet-btn" data-planet="uranus" id="uranus-btn">Ø£ÙˆØ±Ø§Ù†ÙˆØ³</button> <button class="planet-btn" data-planet="neptune" id="neptune-btn">Ù†Ø¨ØªÙˆÙ†</button>
     </div>
     <div class="speed-control"><span class="speed-label">Ø³Ø±Ø¹Ø© Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©</span> <input type="range" class="speed-slider" id="speed-slider" min="0" max="3" step="0.1" value="1">
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      background_color: "#0a0e27",
      surface_color: "#1a1a2e",
      text_color: "#ffffff",
      primary_action_color: "#2563eb",
      secondary_action_color: "#1e3a5f",
      main_title: "Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ",
      subtitle: "Ø§Ø³ØªÙƒØ´Ù Ø¹Ø¬Ø§Ø¦Ø¨ Ø§Ù„ÙØ¶Ø§Ø¡",
      rotate_label: "Ø¯ÙˆØ±Ø§Ù†",
      zoom_label: "ØªÙƒØ¨ÙŠØ±",
      mercury_name: "Ø¹Ø·Ø§Ø±Ø¯",
      venus_name: "Ø§Ù„Ø²Ù‡Ø±Ø©",
      earth_name: "Ø§Ù„Ø£Ø±Ø¶",
      mars_name: "Ø§Ù„Ù…Ø±ÙŠØ®",
      jupiter_name: "Ø§Ù„Ù…Ø´ØªØ±ÙŠ",
      saturn_name: "Ø²Ø­Ù„",
      uranus_name: "Ø£ï¿½ï¿½Ø±Ø§Ù†ÙˆØ³",
      neptune_name: "Ù†Ø¨ØªÙˆÙ†",
      font_family: "Segoe UI",
      font_size: 16
    };

    let scene, camera, renderer;
    let sun, mercury, venus, earth, mars, jupiter, saturn, uranus, neptune;
    let mercuryOrbit, venusOrbit, earthOrbit, marsOrbit, jupiterOrbit, saturnOrbit, uranusOrbit, neptuneOrbit;
    let simulationSpeed = 1;
    let selectedPlanet = 'earth';
    let stars;
    let autoRotate = false;
    let followMode = false;
    
    const planetData = {
      mercury: {
        diameter: "4,879 ÙƒÙ…",
        distance: "57.9 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ…",
        period: "88 ÙŠÙˆÙ…",
        moons: "0",
        description: "Ø£Ù‚Ø±Ø¨ ÙƒÙˆÙƒØ¨ Ù„Ù„Ø´Ù…Ø³ ÙˆØ£ØµØºØ± ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ"
      },
      venus: {
        diameter: "12,104 ÙƒÙ…",
        distance: "108.2 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ…",
        period: "225 ÙŠÙˆÙ…",
        moons: "0",
        description: "Ø£Ø³Ø®Ù† ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠ Ø¨Ø³Ø¨Ø¨ ØºÙ„Ø§ÙÙ‡ Ø§Ù„Ø¬ÙˆÙŠ Ø§Ù„ÙƒØ«ÙŠÙ"
      },
      earth: {
        diameter: "12,742 ÙƒÙ…",
        distance: "149.6 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ…",
        period: "365.25 ÙŠÙˆÙ…",
        moons: "1 (Ø§Ù„Ù‚Ù…Ø±)",
        description: "ÙƒÙˆÙƒØ¨Ù†Ø§ Ø§Ù„Ø£Ø²Ø±Ù‚ØŒ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„ÙˆØ­ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø±ÙˆÙ Ø§Ù„Ø°ÙŠ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­ÙŠØ§Ø©"
      },
      mars: {
        diameter: "6,779 ÙƒÙ…",
        distance: "227.9 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ…",
        period: "687 ÙŠÙˆÙ…",
        moons: "2 (ÙÙˆØ¨ÙˆØ³ ÙˆØ¯ÙŠÙ…ÙˆØ³)",
        description: "Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø­Ù…Ø±ØŒ Ù‡Ø¯Ù ï¿½ï¿½Ø¦ï¿½ï¿½Ø³ÙŠ Ù„Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„ï¿½ï¿½Ø¶Ø§Ø¡ Ø§Ù„Ø¨Ø´Ø±ÙŠ"
      },
      jupiter: {
        diameter: "139,820 ÙƒÙ…",
        distance: "778.5 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ…",
        period: "11.9 Ø³Ù†Ø©",
        moons: "79 Ù‚Ù…Ø±Ø§Ù‹ Ù…ï¿½ï¿½Ø±ÙˆÙØ§Ù‹",
        description: "Ø£ÙƒØ¨Ø± ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ÙŠØŒ Ø¹Ù…Ù„Ø§Ù‚ ØºØ§Ø²ÙŠ Ø¶Ø®Ù…"
      },
      saturn: {
        diameter: "116,460 ÙƒÙ…",
        distance: "1.43 Ù…Ù„ÙŠØ§Ø± ÙƒÙ…",
        period: "29.5 Ø³Ù†Ø©",
        moons: "82 Ù‚Ù…Ø±Ø§Ù‹ Ù…Ø¹Ø±ÙˆÙØ§Ù‹",
        description: "Ù…Ø´Ù‡ÙˆØ± Ø¨Ø­Ù„Ù‚Ø§ØªÙ‡ Ø§Ù„Ø¬ï¿½ï¿½ÙŠÙ„Ø© Ø§Ù„Ù…ÙƒÙˆÙ†Ø© Ù…Ù† Ø¬Ù„ÙŠØ¯ ÙˆØµØ®ÙˆØ±"
      },
      uranus: {
        diameter: "50,724 ÙƒÙ…",
        distance: "2.87 Ù…Ù„ÙŠØ§Ø± ÙƒÙ…",
        period: "84 Ø³Ù†Ø©",
        moons: "27 Ù‚Ù…Ø±Ø§Ù‹ Ù…Ø¹Ø±ÙˆÙØ§Ù‹",
        description: "Ø¹Ù…Ù„Ø§Ù‚ Ø¬Ù„ÙŠØ¯ÙŠ ÙŠØ¯ÙˆØ± Ø¹Ù„Ù‰ Ø¬Ø§Ù†Ø¨Ù‡ Ø¨Ø²Ø§ÙˆÙŠØ© ÙØ±ÙŠØ¯Ø©"
      },
      neptune: {
        diameter: "49,244 ÙƒÙ…",
        distance: "4.50 Ù…Ù„ÙŠØ§Ø± ÙƒÙ…",
        period: "165 Ø³Ù†Ø©",
        moons: "14 Ù‚Ù…Ø±Ø§Ù‹ Ù…Ø¹Ø±ÙˆÙØ§Ù‹",
        description: "Ø£Ø¨Ø¹Ø¯ ÙƒÙˆÙƒØ¨ Ø¹Ù† Ø§Ù„Ø´Ù…Ø³ØŒ Ø¹Ù…Ù„Ø§Ù‚ Ø¬Ù„ÙŠØ¯ÙŠ Ø°Ùˆ Ø±ÙŠØ§Ø­ Ù‚ÙˆÙŠØ©"
      }
    };

    function init() {
      scene = new THREE.Scene();
      
      camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
      camera.position.set(0, 30, 60);
      camera.lookAt(0, 0, 0);
      
      renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x000000, 0);
      document.getElementById('canvas-container').appendChild(renderer.domElement);
      
      const ambientLight = new THREE.AmbientLight(0x1a1a3e, 0.3);
      scene.add(ambientLight);
      
      const sunLight = new THREE.PointLight(0xfff4e6, 3, 500);
      sunLight.position.set(0, 0, 0);
      sunLight.castShadow = true;
      scene.add(sunLight);
      
      // Ø£Ø¶ÙˆØ§Ø¡ Ù…Ù„ÙˆÙ†Ø© ØªØªØ­Ø±Ùƒ Ø¨Ø¨Ø·Ø¡
      const blueLight = new THREE.PointLight(0x0088ff, 1, 100);
      blueLight.position.set(50, 20, 50);
      scene.add(blueLight);
      window.blueLight = blueLight;
      
      const purpleLight = new THREE.PointLight(0xff00ff, 0.8, 100);
      purpleLight.position.set(-50, 20, -50);
      scene.add(purpleLight);
      window.purpleLight = purpleLight;
      
      const greenLight = new THREE.PointLight(0x00ff88, 0.6, 100);
      greenLight.position.set(0, 40, 0);
      scene.add(greenLight);
      window.greenLight = greenLight;
      
      // Ø¥Ø¶Ø§ÙØ© Ù†Ø¬ÙˆÙ… ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
      const starsGeometry = new THREE.BufferGeometry();
      const starsMaterial = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 0.7,
        transparent: true,
        opacity: 0.8
      });
      
      const starsVertices = [];
      for (let i = 0; i < 10000; i++) {
        const x = (Math.random() - 0.5) * 2000;
        const y = (Math.random() - 0.5) * 2000;
        const z = (Math.random() - 0.5) * 2000;
        starsVertices.push(x, y, z);
      }
      
      starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
      stars = new THREE.Points(starsGeometry, starsMaterial);
      scene.add(stars);
      
      // Ø§Ù„Ø´Ù…Ø³ Ù…Ø¹ ØªÙˆÙ‡Ø¬
      const sunGeometry = new THREE.SphereGeometry(3, 32, 32);
      const sunMaterial = new THREE.MeshBasicMaterial({ 
        color: 0xfdb813,
        emissive: 0xfdb813,
        emissiveIntensity: 1
      });
      sun = new THREE.Mesh(sunGeometry, sunMaterial);
      scene.add(sun);
      
      // ØªÙˆÙ‡Ø¬ Ø§Ù„Ø´Ù…Ø³ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ
      const glowGeometry = new THREE.SphereGeometry(3.5, 32, 32);
      const glowMaterial = new THREE.MeshBasicMaterial({
        color: 0xffaa00,
        transparent: true,
        opacity: 0.3,
        side: THREE.BackSide
      });
      const sunGlow = new THREE.Mesh(glowGeometry, glowMaterial);
      sun.add(sunGlow);
      
      // Ù‡Ø§Ù„Ø© Ø§Ù„Ø´Ù…Ø³
      const coronaGeometry = new THREE.SphereGeometry(4.2, 32, 32);
      const coronaMaterial = new THREE.MeshBasicMaterial({
        color: 0xff6600,
        transparent: true,
        opacity: 0.15,
        side: THREE.BackSide
      });
      const sunCorona = new THREE.Mesh(coronaGeometry, coronaMaterial);
      sun.add(sunCorona);
      
      // Ø¹Ø·Ø§Ø±Ø¯
      mercury = createPlanet(0.4, 0x8c7853, 8);
      mercuryOrbit = createOrbit(mercury, 8);
      
      // Ø§Ù„Ø²Ù‡Ø±Ø©
      venus = createPlanet(0.9, 0xffc649, 12);
      venusOrbit = createOrbit(venus, 12);
      
      // Ø§Ù„Ø£Ø±Ø¶
      earth = createPlanet(1, 0x2196f3, 18);
      earthOrbit = createOrbit(earth, 18);
      
      // Ø§Ù„Ù…Ø±ÙŠØ®
      mars = createPlanet(0.7, 0xff4500, 24);
      marsOrbit = createOrbit(mars, 24);
      
      // Ø§Ù„Ù…Ø´ØªØ±ÙŠ
      jupiter = createPlanet(2.5, 0xc88b3a, 35);
      jupiterOrbit = createOrbit(jupiter, 35);
      
      // Ø²Ø­Ù„ Ù…Ø¹ Ø§Ù„Ø­Ù„Ù‚Ø§Øª
      saturn = createPlanet(2.2, 0xfad5a5, 48);
      saturnOrbit = createOrbit(saturn, 48);
      
      // Ø¥Ø¶Ø§ÙØ© Ø­Ù„Ù‚Ø§Øª Ø²Ø­Ù„
      const ringGeometry = new THREE.RingGeometry(2.8, 4.5, 64);
      const ringMaterial = new THREE.MeshBasicMaterial({ 
        color: 0xc9b29a, 
        side: THREE.DoubleSide,
        transparent: true,
        opacity: 0.8
      });
      const saturnRing = new THREE.Mesh(ringGeometry, ringMaterial);
      saturnRing.rotation.x = Math.PI / 2;
      saturn.add(saturnRing);
      
      // Ø£ÙˆØ±Ø§Ù†ÙˆØ³
      uranus = createPlanet(1.8, 0x4fd0e7, 62);
      uranusOrbit = createOrbit(uranus, 62);
      
      // Ù†Ø¨ØªÙˆÙ†
      neptune = createPlanet(1.7, 0x4169e1, 75);
      neptuneOrbit = createOrbit(neptune, 75);
      
      // Ø¥Ù†Ø´ï¿½ï¿½Ø¡ Ø§Ù„Ù…Ø¯Ø§Ø±Ø§Øª Ø§Ù„ï¿½ï¿½Ø±Ø¦ÙŠØ©
      createOrbitLine(8, 0x8c7853);
      createOrbitLine(12, 0xffc649);
      createOrbitLine(18, 0x2196f3);
      createOrbitLine(24, 0xff4500);
      createOrbitLine(35, 0xc88b3a);
      createOrbitLine(48, 0xfad5a5);
      createOrbitLine(62, 0x4fd0e7);
      createOrbitLine(75, 0x4169e1);
      
      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ù…Ø± Ù„Ù„Ø£Ø±Ø¶
      const moonGeometry = new THREE.SphereGeometry(0.27, 32, 32);
      const moonMaterial = new THREE.MeshPhongMaterial({ 
        color: 0xaaaaaa,
        emissive: 0x444444,
        emissiveIntensity: 0.2
      });
      const moon = new THREE.Mesh(moonGeometry, moonMaterial);
      const moonOrbit = new THREE.Object3D();
      moonOrbit.add(moon);
      moon.position.x = 2.5;
      earth.add(moonOrbit);
      window.moonOrbit = moonOrbit;
      
      // Ø¥Ø¶Ø§ÙØ© Ø£Ù‚Ù…Ø§Ø± Ø§Ù„Ù…Ø±ÙŠØ® (ÙÙˆØ¨ÙˆØ³ ÙˆØ¯ÙŠÙ…ÙˆØ³)
      const phobosGeometry = new THREE.SphereGeometry(0.15, 16, 16);
      const phobosMaterial = new THREE.MeshPhongMaterial({ color: 0x8b7355 });
      const phobos = new THREE.Mesh(phobosGeometry, phobosMaterial);
      const phobosOrbit = new THREE.Object3D();
      phobosOrbit.add(phobos);
      phobos.position.x = 1.5;
      mars.add(phobosOrbit);
      window.phobosOrbit = phobosOrbit;
      
      const deimosGeometry = new THREE.SphereGeometry(0.12, 16, 16);
      const deimosMaterial = new THREE.MeshPhongMaterial({ color: 0x7d6850 });
      const deimos = new THREE.Mesh(deimosGeometry, deimosMaterial);
      const deimosOrbit = new THREE.Object3D();
      deimosOrbit.add(deimos);
      deimos.position.x = 2.2;
      mars.add(deimosOrbit);
      window.deimosOrbit = deimosOrbit;
      
      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù‚Ù…Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…Ø´ØªØ±ÙŠ
      window.jupiterMoons = [];
      const jupiterMoonNames = ['Io', 'Europa', 'Ganymede', 'Callisto'];
      const jupiterMoonDistances = [3.5, 4.2, 5.0, 6.0];
      const jupiterMoonColors = [0xffaa00, 0xccddff, 0x998877, 0x887766];
      const jupiterMoonSizes = [0.25, 0.24, 0.32, 0.29];
      
      for (let i = 0; i < 4; i++) {
        const moonGeom = new THREE.SphereGeometry(jupiterMoonSizes[i], 24, 24);
        const moonMat = new THREE.MeshPhongMaterial({ color: jupiterMoonColors[i] });
        const jupiterMoon = new THREE.Mesh(moonGeom, moonMat);
        const jupiterMoonOrbit = new THREE.Object3D();
        jupiterMoonOrbit.add(jupiterMoon);
        jupiterMoon.position.x = jupiterMoonDistances[i];
        jupiter.add(jupiterMoonOrbit);
        window.jupiterMoons.push({ orbit: jupiterMoonOrbit, speed: 0.08 - i * 0.015 });
      }
      
      // Ø¥Ø¶Ø§ÙØ© Ø£Ù‚Ù…Ø§Ø± Ø²Ø­Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
      window.saturnMoons = [];
      const saturnMoonDistances = [5.5, 6.5, 7.5];
      const saturnMoonSizes = [0.3, 0.35, 0.25];
      const saturnMoonColors = [0xffddaa, 0xeeccaa, 0xddccbb];
      
      for (let i = 0; i < 3; i++) {
        const moonGeom = new THREE.SphereGeometry(saturnMoonSizes[i], 24, 24);
        const moonMat = new THREE.MeshPhongMaterial({ color: saturnMoonColors[i] });
        const saturnMoon = new THREE.Mesh(moonGeom, moonMat);
        const saturnMoonOrbit = new THREE.Object3D();
        saturnMoonOrbit.add(saturnMoon);
        saturnMoon.position.x = saturnMoonDistances[i];
        saturn.add(saturnMoonOrbit);
        window.saturnMoons.push({ orbit: saturnMoonOrbit, speed: 0.06 - i * 0.012 });
      }
      
      // Ø¥Ø¶Ø§ÙØ© Ø­Ø²Ø§Ù… Ø§Ù„ÙƒÙˆÙŠÙƒØ¨Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ø±ÙŠØ® ÙˆØ§Ù„Ù…Ø´ØªØ±ÙŠ
      const asteroidBelt = new THREE.Group();
      for (let i = 0; i < 200; i++) {
        const size = Math.random() * 0.1 + 0.05;
        const asteroidGeometry = new THREE.SphereGeometry(size, 8, 8);
        const asteroidMaterial = new THREE.MeshPhongMaterial({ 
          color: 0x8b7355,
          emissive: 0x3d3428,
          emissiveIntensity: 0.1
        });
        const asteroid = new THREE.Mesh(asteroidGeometry, asteroidMaterial);
        
        const angle = Math.random() * Math.PI * 2;
        const distance = 28 + Math.random() * 4;
        const height = (Math.random() - 0.5) * 1.5;
        
        asteroid.position.x = Math.cos(angle) * distance;
        asteroid.position.z = Math.sin(angle) * distance;
        asteroid.position.y = height;
        
        asteroid.userData = {
          orbitSpeed: 0.006 + Math.random() * 0.002,
          orbitRadius: distance,
          angle: angle
        };
        
        asteroidBelt.add(asteroid);
      }
      scene.add(asteroidBelt);
      window.asteroidBelt = asteroidBelt;
      
      // Ø¥Ø¶Ø§ÙØ© ØºØ¨Ø§Ø± ÙƒÙˆÙ†ÙŠ
      const dustGeometry = new THREE.BufferGeometry();
      const dustMaterial = new THREE.PointsMaterial({
        color: 0x6699ff,
        size: 0.3,
        transparent: true,
        opacity: 0.4,
        blending: THREE.AdditiveBlending
      });
      
      const dustVertices = [];
      for (let i = 0; i < 3000; i++) {
        const x = (Math.random() - 0.5) * 150;
        const y = (Math.random() - 0.5) * 30;
        const z = (Math.random() - 0.5) * 150;
        dustVertices.push(x, y, z);
      }
      
      dustGeometry.setAttribute('position', new THREE.Float32BufferAttribute(dustVertices, 3));
      const cosmicDust = new THREE.Points(dustGeometry, dustMaterial);
      scene.add(cosmicDust);
      window.cosmicDust = cosmicDust;
      
      // Ø¥Ø¶Ø§ÙØ© Ù†ÙŠØ§Ø²Ùƒ Ù…ØªØ­Ø±ÙƒØ©
      window.comets = [];
      for (let i = 0; i < 5; i++) {
        const cometGeometry = new THREE.SphereGeometry(0.3, 16, 16);
        const cometMaterial = new THREE.MeshPhongMaterial({ 
          color: 0xaaccff,
          emissive: 0x4488ff,
          emissiveIntensity: 0.5
        });
        const comet = new THREE.Mesh(cometGeometry, cometMaterial);
        
        // Ø¥Ø¶Ø§ÙØ© Ø°ÙŠÙ„ Ø§Ù„Ù†ÙŠØ²Ùƒ
        const tailGeometry = new THREE.ConeGeometry(0.4, 3, 8);
        const tailMaterial = new THREE.MeshBasicMaterial({
          color: 0x88ccff,
          transparent: true,
          opacity: 0.4
        });
        const tail = new THREE.Mesh(tailGeometry, tailMaterial);
        tail.rotation.x = Math.PI / 2;
        tail.position.z = -1.5;
        comet.add(tail);
        
        // Ø¥Ø¶Ø§ÙØ© ÙˆÙ‡Ø¬ Ù„Ù„Ù†ÙŠØ²Ùƒ
        const glowGeom = new THREE.SphereGeometry(0.6, 16, 16);
        const glowMat = new THREE.MeshBasicMaterial({
          color: 0x6699ff,
          transparent: true,
          opacity: 0.3,
          side: THREE.BackSide
        });
        const cometGlow = new THREE.Mesh(glowGeom, glowMat);
        comet.add(cometGlow);
        
        const angle = Math.random() * Math.PI * 2;
        const distance = 40 + Math.random() * 50;
        
        comet.position.x = Math.cos(angle) * distance;
        comet.position.z = Math.sin(angle) * distance;
        comet.position.y = (Math.random() - 0.5) * 20;
        
        comet.userData = {
          orbitSpeed: 0.015 + Math.random() * 0.01,
          orbitRadius: distance,
          angle: angle,
          verticalSpeed: (Math.random() - 0.5) * 0.02
        };
        
        scene.add(comet);
        window.comets.push(comet);
      }
      
      // Ø¥Ø¶Ø§ÙØ© Ø´Ù‡Ø¨ Ù…ØªØ³Ø§Ù‚Ø·Ø©
      window.shootingStars = [];
      window.lastShootingStarTime = Date.now();
      
      function createShootingStar() {
        const starGeometry = new THREE.SphereGeometry(0.15, 8, 8);
        const starMaterial = new THREE.MeshBasicMaterial({ 
          color: 0xffffff,
          transparent: true,
          opacity: 1
        });
        const shootingStar = new THREE.Mesh(starGeometry, starMaterial);
        
        // Ø°ÙŠÙ„ Ø§Ù„Ø´Ù‡Ø§Ø¨
        const trailGeometry = new THREE.CylinderGeometry(0.05, 0.15, 8, 8);
        const trailMaterial = new THREE.MeshBasicMaterial({
          color: 0xffddaa,
          transparent: true,
          opacity: 0.6
        });
        const trail = new THREE.Mesh(trailGeometry, trailMaterial);
        trail.rotation.z = Math.PI / 2;
        trail.position.x = -4;
        shootingStar.add(trail);
        
        // Ù…ÙˆÙ‚Ø¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©
        shootingStar.position.x = (Math.random() - 0.5) * 200;
        shootingStar.position.y = 50 + Math.random() * 30;
        shootingStar.position.z = (Math.random() - 0.5) * 200;
        
        shootingStar.userData = {
          velocity: new THREE.Vector3(
            (Math.random() - 0.5) * 2,
            -3 - Math.random() * 2,
            (Math.random() - 0.5) * 2
          ),
          life: 1.0
        };
        
        // Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø´Ù‡Ø§Ø¨
        const direction = shootingStar.userData.velocity.clone().normalize();
        shootingStar.lookAt(shootingStar.position.clone().add(direction));
        
        scene.add(shootingStar);
        window.shootingStars.push(shootingStar);
      }
      
      // Ø¥Ø¶Ø§ÙØ© Ø¬Ø²ÙŠØ¦Ø§Øª Ø­ÙˆÙ„ ÙƒÙ„ ÙƒÙˆÙƒØ¨
      createPlanetParticles(mercury, 0x8c7853);
      createPlanetParticles(venus, 0xffc649);
      createPlanetParticles(earth, 0x2196f3);
      createPlanetParticles(mars, 0xff4500);
      createPlanetParticles(jupiter, 0xc88b3a);
      createPlanetParticles(saturn, 0xfad5a5);
      createPlanetParticles(uranus, 0x4fd0e7);
      createPlanetParticles(neptune, 0x4169e1);
      
      animate();
      updatePlanetInfo(selectedPlanet);
    }
    
    function createPlanet(size, color, distance) {
      const geometry = new THREE.SphereGeometry(size, 64, 64);
      const material = new THREE.MeshPhongMaterial({ 
        color: color,
        emissive: color,
        emissiveIntensity: 0.15,
        shininess: 50,
        specular: 0x333333
      });
      const planet = new THREE.Mesh(geometry, material);
      
      // Ø¥Ø¶Ø§ÙØ© Ù‡Ø§Ù„Ø© Ø®ÙÙŠÙØ© Ù„ÙƒÙ„ ÙƒÙˆÙƒï¿½ï¿½
      const glowGeometry = new THREE.SphereGeometry(size * 1.15, 32, 32);
      const glowMaterial = new THREE.MeshBasicMaterial({
        color: color,
        transparent: true,
        opacity: 0.1,
        side: THREE.BackSide
      });
      const glow = new THREE.Mesh(glowGeometry, glowMaterial);
      planet.add(glow);
      
      return planet;
    }
    
    function createOrbit(planet, distance) {
      const orbit = new THREE.Object3D();
      orbit.add(planet);
      planet.position.x = distance;
      scene.add(orbit);
      return orbit;
    }
    
    function createOrbitLine(radius, color) {
      const orbitMaterial = new THREE.LineBasicMaterial({ 
        color: color || 0x6699cc,
        transparent: true,
        opacity: 0.35,
        linewidth: 1
      });
      
      const orbitCurve = new THREE.EllipseCurve(0, 0, radius, radius, 0, 2 * Math.PI, false, 0);
      const orbitPoints = orbitCurve.getPoints(128);
      const orbitGeometry = new THREE.BufferGeometry().setFromPoints(
        orbitPoints.map(p => new THREE.Vector3(p.x, 0, p.y))
      );
      const orbitLine = new THREE.Line(orbitGeometry, orbitMaterial);
      scene.add(orbitLine);
    }
    
    function createPlanetParticles(planet, color) {
      const particlesGeometry = new THREE.BufferGeometry();
      const particlesMaterial = new THREE.PointsMaterial({
        color: color,
        size: 0.15,
        transparent: true,
        opacity: 0.6,
        blending: THREE.AdditiveBlending
      });
      
      const particlesVertices = [];
      for (let i = 0; i < 50; i++) {
        const angle = Math.random() * Math.PI * 2;
        const distance = 2 + Math.random() * 1.5;
        const height = (Math.random() - 0.5) * 2;
        
        particlesVertices.push(
          Math.cos(angle) * distance,
          height,
          Math.sin(angle) * distance
        );
      }
      
      particlesGeometry.setAttribute('position', new THREE.Float32BufferAttribute(particlesVertices, 3));
      const particles = new THREE.Points(particlesGeometry, particlesMaterial);
      planet.add(particles);
      
      particles.userData = { rotationSpeed: 0.01 + Math.random() * 0.02 };
      window['particles_' + planet.uuid] = particles;
    }
    
    function animate() {
      requestAnimationFrame(animate);
      
      // Ø¯ÙˆØ±Ø§Ù† Ø¨Ø·ÙŠØ¡ Ù„Ù„Ù†Ø¬ÙˆÙ…
      if (stars) {
        stars.rotation.y += 0.0001 * simulationSpeed;
      }
      
      // Ù†Ø¨Ø¶ Ø§Ù„Ø´Ù…Ø³
      const time = Date.now() * 0.001;
      sun.scale.set(1 + Math.sin(time) * 0.03, 1 + Math.sin(time) * 0.03, 1 + Math.sin(time) * 0.03);
      sun.rotation.y += 0.002 * simulationSpeed;
      
      // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø£Ø¶ÙˆØ§Ø¡ Ø§Ù„Ù…Ù„ÙˆÙ†Ø©
      if (window.blueLight) {
        window.blueLight.position.x = Math.cos(time * 0.5) * 60;
        window.blueLight.position.z = Math.sin(time * 0.5) * 60;
        window.blueLight.intensity = 0.8 + Math.sin(time * 2) * 0.3;
      }
      
      if (window.purpleLight) {
        window.purpleLight.position.x = Math.cos(time * 0.3 + Math.PI) * 70;
        window.purpleLight.position.z = Math.sin(time * 0.3 + Math.PI) * 70;
        window.purpleLight.intensity = 0.6 + Math.cos(time * 1.5) * 0.3;
      }
      
      if (window.greenLight) {
        window.greenLight.position.y = 40 + Math.sin(time * 0.7) * 15;
        window.greenLight.intensity = 0.5 + Math.sin(time * 1.8) * 0.2;
      }
      
      // Ø³Ø±Ø¹Ø§Øª Ù…Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù‚Ø¹ÙŠØ© Ù†Ø³Ø¨ÙŠØ§Ù‹
      mercuryOrbit.rotation.y += 0.04 * simulationSpeed;
      mercury.rotation.y += 0.01 * simulationSpeed;
      
      venusOrbit.rotation.y += 0.015 * simulationSpeed;
      venus.rotation.y += 0.005 * simulationSpeed;
      
      earthOrbit.rotation.y += 0.01 * simulationSpeed;
      earth.rotation.y += 0.02 * simulationSpeed;
      
      // Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ù‚Ù…Ø± Ø­ÙˆÙ„ Ø§Ù„Ø£Ø±Ø¶
      if (window.moonOrbit) {
        window.moonOrbit.rotation.y += 0.05 * simulationSpeed;
      }
      
      // Ø¯ÙˆØ±Ø§Ù† Ø£Ù‚Ù…Ø§Ø± Ø§Ù„Ù…Ø±ÙŠØ®
      if (window.phobosOrbit) {
        window.phobosOrbit.rotation.y += 0.12 * simulationSpeed;
      }
      if (window.deimosOrbit) {
        window.deimosOrbit.rotation.y += 0.07 * simulationSpeed;
      }
      
      // Ø¯ÙˆØ±Ø§Ù† Ø£Ù‚Ù…Ø§Ø± Ø§Ù„Ù…Ø´ØªØ±ÙŠ
      if (window.jupiterMoons) {
        window.jupiterMoons.forEach(moon => {
          moon.orbit.rotation.y += moon.speed * simulationSpeed;
        });
      }
      
      // Ø¯ÙˆØ±Ø§Ù† Ø£Ù‚Ù…Ø§Ø± Ø²Ø­Ù„
      if (window.saturnMoons) {
        window.saturnMoons.forEach(moon => {
          moon.orbit.rotation.y += moon.speed * simulationSpeed;
        });
      }
      
      marsOrbit.rotation.y += 0.008 * simulationSpeed;
      mars.rotation.y += 0.018 * simulationSpeed;
      
      jupiterOrbit.rotation.y += 0.005 * simulationSpeed;
      jupiter.rotation.y += 0.04 * simulationSpeed;
      
      saturnOrbit.rotation.y += 0.003 * simulationSpeed;
      saturn.rotation.y += 0.038 * simulationSpeed;
      
      uranusOrbit.rotation.y += 0.002 * simulationSpeed;
      uranus.rotation.y += 0.03 * simulationSpeed;
      
      neptuneOrbit.rotation.y += 0.001 * simulationSpeed;
      neptune.rotation.y += 0.032 * simulationSpeed;
      
      // ØªØ­Ø±ÙŠÙƒ Ø­Ø²Ø§Ù… Ø§Ù„ÙƒÙˆÙŠÙƒØ¨Ø§Øª
      if (window.asteroidBelt) {
        window.asteroidBelt.children.forEach(asteroid => {
          asteroid.userData.angle += asteroid.userData.orbitSpeed * simulationSpeed;
          asteroid.position.x = Math.cos(asteroid.userData.angle) * asteroid.userData.orbitRadius;
          asteroid.position.z = Math.sin(asteroid.userData.angle) * asteroid.userData.orbitRadius;
          asteroid.rotation.x += 0.01 * simulationSpeed;
          asteroid.rotation.y += 0.015 * simulationSpeed;
        });
      }
      
      // ØªØ­Ø±ÙŠÙƒ Ø§Ù„ØºØ¨Ø§Ø± Ø§Ù„ÙƒÙˆÙ†ÙŠ
      if (window.cosmicDust) {
        window.cosmicDust.rotation.y += 0.0002 * simulationSpeed;
        window.cosmicDust.rotation.x += 0.0001 * simulationSpeed;
      }
      
      // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù†ÙŠØ§Ø²Ùƒ
      if (window.comets) {
        window.comets.forEach(comet => {
          comet.userData.angle += comet.userData.orbitSpeed * simulationSpeed;
          comet.position.x = Math.cos(comet.userData.angle) * comet.userData.orbitRadius;
          comet.position.z = Math.sin(comet.userData.angle) * comet.userData.orbitRadius;
          comet.position.y += comet.userData.verticalSpeed * simulationSpeed;
          
          // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù†ÙŠØ²Ùƒ Ù„Ù„Ø£Ø¹Ù„Ù‰/Ø§Ù„Ø£Ø³ÙÙ„ Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø­Ø¯
          if (comet.position.y > 30) comet.position.y = -30;
          if (comet.position.y < -30) comet.position.y = 30;
          
          // Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†ÙŠØ²Ùƒ Ø­Ø³Ø¨ Ø­Ø±ÙƒØªÙ‡
          const tangentAngle = comet.userData.angle + Math.PI / 2;
          comet.rotation.y = -tangentAngle;
          comet.rotation.x = comet.userData.verticalSpeed * 2;
        });
      }
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø´Ù‡Ø¨ Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
      const currentTime = Date.now();
      if (currentTime - window.lastShootingStarTime > 3000 && Math.random() < 0.3) {
        createShootingStar();
        window.lastShootingStarTime = currentTime;
      }
      
      // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø´Ù‡Ø¨ Ø§Ù„Ù…ØªØ³Ø§Ù‚Ø·Ø©
      if (window.shootingStars) {
        for (let i = window.shootingStars.length - 1; i >= 0; i--) {
          const star = window.shootingStars[i];
          star.position.add(star.userData.velocity.clone().multiplyScalar(simulationSpeed));
          star.userData.life -= 0.01 * simulationSpeed;
          
          // ØªÙ„Ø§Ø´ÙŠ Ø§Ù„Ø´Ù‡Ø§Ø¨
          star.material.opacity = star.userData.life;
          if (star.children[0]) {
            star.children[0].material.opacity = star.userData.life * 0.6;
          }
          
          // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø´Ù‡Ø§Ø¨ Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø¹Ù…Ø±Ù‡
          if (star.userData.life <= 0 || star.position.y < -50) {
            scene.remove(star);
            window.shootingStars.splice(i, 1);
          }
        }
      }
      
      // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¬Ø²ÙŠØ¦Ø§Øª Ø­ÙˆÙ„ Ø§Ù„ÙƒÙˆØ§ÙƒØ¨
      [mercury, venus, earth, mars, jupiter, saturn, uranus, neptune].forEach(planet => {
        const particles = window['particles_' + planet.uuid];
        if (particles) {
          particles.rotation.y += particles.userData.rotationSpeed * simulationSpeed;
        }
      });
      
      // ÙˆØ¶Ø¹ Ø§Ù„Ø¯ÙˆØ±Ø§Ù† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
      if (autoRotate) {
        camera.position.applyAxisAngle(new THREE.Vector3(0, 1, 0), 0.003 * simulationSpeed);
        camera.lookAt(0, 0, 0);
      }
      
      // ÙˆØ¶Ø¹ Ø§Ù„ØªØªØ¨Ø¹
      if (followMode) {
        const planetMap = {
          mercury: mercury,
          venus: venus,
          earth: earth,
          mars: mars,
          jupiter: jupiter,
          saturn: saturn,
          uranus: uranus,
          neptune: neptune
        };
        
        const targetPlanet = planetMap[selectedPlanet];
        if (targetPlanet) {
          const worldPos = new THREE.Vector3();
          targetPlanet.getWorldPosition(worldPos);
          
          const offset = new THREE.Vector3(0, 8, 15);
          const targetCameraPos = worldPos.clone().add(offset);
          
          camera.position.lerp(targetCameraPos, 0.05);
          camera.lookAt(worldPos);
        }
      }
      
      renderer.render(scene, camera);
    }
    
    function updatePlanetInfo(planet) {
      const data = planetData[planet];
      const nameMap = {
        mercury: window.elementSdk?.config?.mercury_name || defaultConfig.mercury_name,
        venus: window.elementSdk?.config?.venus_name || defaultConfig.venus_name,
        earth: window.elementSdk?.config?.earth_name || defaultConfig.earth_name,
        mars: window.elementSdk?.config?.mars_name || defaultConfig.mars_name,
        jupiter: window.elementSdk?.config?.jupiter_name || defaultConfig.jupiter_name,
        saturn: window.elementSdk?.config?.saturn_name || defaultConfig.saturn_name,
        uranus: window.elementSdk?.config?.uranus_name || defaultConfig.uranus_name,
        neptune: window.elementSdk?.config?.neptune_name || defaultConfig.neptune_name
      };
      
      document.getElementById('planet-name').textContent = nameMap[planet];
      document.getElementById('planet-details').innerHTML = `
        <div class="detail-row">
          <span class="detail-label">Ø§Ù„Ù‚Ø·Ø±:</span>
          <span class="detail-value">${data.diameter}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Ø§Ù„Ù…Ø³Ø§ÙØ© Ù…Ù† Ø§Ù„Ø´Ù…Ø³:</span>
          <span class="detail-value">${data.distance}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø¯Ø§Ø±ÙŠØ©:</span>
          <span class="detail-value">${data.period}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Ø§Ù„Ø£Ù‚Ù…Ø§Ø±:</span>
          <span class="detail-value">${data.moons}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label" style="border: none;">Ø§Ù„ÙˆØµÙ:</span>
          <span class="detail-value" style="text-align: right; max-width: 60%;">${data.description}</span>
        </div>
      `;
    }
    
    document.getElementById('rotate-left').addEventListener('click', () => {
      camera.position.applyAxisAngle(new THREE.Vector3(0, 1, 0), 0.2);
      camera.lookAt(0, 0, 0);
    });
    
    document.getElementById('rotate-right').addEventListener('click', () => {
      camera.position.applyAxisAngle(new THREE.Vector3(0, 1, 0), -0.2);
      camera.lookAt(0, 0, 0);
    });
    
    document.getElementById('zoom-in').addEventListener('click', () => {
      const direction = new THREE.Vector3();
      camera.getWorldDirection(direction);
      camera.position.addScaledVector(direction, 3);
    });
    
    document.getElementById('zoom-out').addEventListener('click', () => {
      const direction = new THREE.Vector3();
      camera.getWorldDirection(direction);
      camera.position.addScaledVector(direction, -3);
    });
    
    document.querySelectorAll('.planet-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        document.querySelectorAll('.planet-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        selectedPlanet = btn.dataset.planet;
        updatePlanetInfo(selectedPlanet);
        
        // ØªØ­Ø±ÙŠÙƒ Ø§Ù„ÙƒØ§Ù…ÙŠï¿½ï¿½Ø§ Ù„Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ù…Ø®ØªØ§Ø±
        const positions = {
          mercury: new THREE.Vector3(8, 8, 15),
          venus: new THREE.Vector3(12, 10, 20),
          earth: new THREE.Vector3(18, 12, 30),
          mars: new THREE.Vector3(24, 15, 38),
          jupiter: new THREE.Vector3(35, 20, 55),
          saturn: new THREE.Vector3(48, 25, 70),
          uranus: new THREE.Vector3(62, 30, 85),
          neptune: new THREE.Vector3(75, 35, 100)
        };
        
        const targetPos = positions[selectedPlanet];
        camera.position.copy(targetPos);
        camera.lookAt(0, 0, 0);
      });
    });
    
    document.getElementById('speed-slider').addEventListener('input', (e) => {
      simulationSpeed = parseFloat(e.target.value);
    });
    
    // ÙˆØ¶Ø¹ Ø§Ù„Ø¯ÙˆØ±Ø§Ù† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
    document.getElementById('auto-rotate').addEventListener('click', (e) => {
      autoRotate = !autoRotate;
      e.target.style.background = autoRotate 
        ? 'linear-gradient(135deg, #10b981 0%, #059669 100%)'
        : 'linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)';
    });
    
    // ÙˆØ¶Ø¹ Ø§Ù„ØªØªØ¨Ø¹
    document.getElementById('follow-mode').addEventListener('click', (e) => {
      followMode = !followMode;
      e.target.style.background = followMode 
        ? 'linear-gradient(135deg, #10b981 0%, #059669 100%)'
        : 'linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)';
    });
    
    // Ø²Ø± Ø¥ØºÙ„Ø§Ù‚ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
    document.getElementById('close-info-btn').addEventListener('click', () => {
      document.getElementById('planet-info').classList.add('hidden');
      document.getElementById('toggle-info-btn').classList.add('show');
    });
    
    // Ø²Ø± ÙØªØ­ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
    document.getElementById('toggle-info-btn').addEventListener('click', () => {
      document.getElementById('planet-info').classList.remove('hidden');
      document.getElementById('toggle-info-btn').classList.remove('show');
    });
    
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    async function onConfigChange(config) {
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
      const customFont = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;
      
      document.body.style.background = `linear-gradient(135deg, ${bgColor} 0%, ${surfaceColor} 50%, ${bgColor} 100%)`;
      
      document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
      document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
      document.getElementById('rotate-label').textContent = config.rotate_label || defaultConfig.rotate_label;
      document.getElementById('zoom-label').textContent = config.zoom_label || defaultConfig.zoom_label;
      
      document.getElementById('mercury-btn').textContent = config.mercury_name || defaultConfig.mercury_name;
      document.getElementById('venus-btn').textContent = config.venus_name || defaultConfig.venus_name;
      document.getElementById('earth-btn').textContent = config.earth_name || defaultConfig.earth_name;
      document.getElementById('mars-btn').textContent = config.mars_name || defaultConfig.mars_name;
      document.getElementById('jupiter-btn').textContent = config.jupiter_name || defaultConfig.jupiter_name;
      document.getElementById('saturn-btn').textContent = config.saturn_name || defaultConfig.saturn_name;
      document.getElementById('uranus-btn').textContent = config.uranus_name || defaultConfig.uranus_name;
      document.getElementById('neptune-btn').textContent = config.neptune_name || defaultConfig.neptune_name;
      
      updatePlanetInfo(selectedPlanet);
      
      const baseFontStack = 'Tahoma, Geneva, Verdana, sans-serif';
      document.querySelector('.title').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.querySelector('.title').style.fontSize = `${baseSize * 2.5}px`;
      document.querySelector('.title').style.color = textColor;
      
      document.querySelector('.subtitle').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.querySelector('.subtitle').style.fontSize = `${baseSize * 1.2}px`;
      
      document.querySelectorAll('.control-label, .speed-label').forEach(el => {
        el.style.fontFamily = `${customFont}, ${baseFontStack}`;
        el.style.fontSize = `${baseSize * 0.9}px`;
        el.style.color = textColor;
      });
      
      document.querySelector('.planet-name').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.querySelector('.planet-name').style.fontSize = `${baseSize * 1.5}px`;
      
      document.querySelectorAll('.detail-label, .detail-value').forEach(el => {
        el.style.fontFamily = `${customFont}, ${baseFontStack}`;
        el.style.fontSize = `${baseSize * 0.95}px`;
      });
      
      document.querySelectorAll('.planet-btn').forEach(btn => {
        btn.style.fontFamily = `${customFont}, ${baseFontStack}`;
        btn.style.fontSize = `${baseSize * 0.85}px`;
      });
      
      document.querySelectorAll('.control-btn').forEach(btn => {
        btn.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${primaryColor}dd 100%)`;
      });
      
      document.querySelectorAll('.planet-btn').forEach(btn => {
        if (!btn.classList.contains('active')) {
          btn.style.background = `linear-gradient(135deg, ${secondaryColor} 0%, ${secondaryColor}dd 100%)`;
        }
      });
      
      document.querySelectorAll('.planet-btn.active').forEach(btn => {
        btn.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${primaryColor}dd 100%)`;
      });
      
      document.querySelectorAll('.controls-panel, .planet-info').forEach(el => {
        el.style.background = `${surfaceColor}f0`;
      });
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig: defaultConfig,
        onConfigChange: onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => {
                config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ["main_title", config.main_title || defaultConfig.main_title],
          ["subtitle", config.subtitle || defaultConfig.subtitle],
          ["rotate_label", config.rotate_label || defaultConfig.rotate_label],
          ["zoom_label", config.zoom_label || defaultConfig.zoom_label],
          ["mercury_name", config.mercury_name || defaultConfig.mercury_name],
          ["venus_name", config.venus_name || defaultConfig.venus_name],
          ["earth_name", config.earth_name || defaultConfig.earth_name],
          ["mars_name", config.mars_name || defaultConfig.mars_name],
          ["jupiter_name", config.jupiter_name || defaultConfig.jupiter_name],
          ["saturn_name", config.saturn_name || defaultConfig.saturn_name],
          ["uranus_name", config.uranus_name || defaultConfig.uranus_name],
          ["neptune_name", config.neptune_name || defaultConfig.neptune_name]
        ])
      });
    }
    
    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b6db620807bcc66',t:'MTc2NzIyNTM2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>